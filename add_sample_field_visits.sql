-- Add sample field visit data for testing charts
-- This will populate the analytics with realistic data

INSERT INTO field_visits (
    id,
    visit_date,
    consultant,
    client,
    status,
    farm,
    paddock,
    crop,
    visit_reason,
    soil_ph,
    soil_texture,
    plant_height,
    fruiting,
    sap_ph,
    sap_nitrate,
    sap_calcium,
    sap_magnesium,
    sap_potassium,
    sap_sodium,
    penetrometer,
    soil_electroconductivity,
    sap_electroconductivity,
    chlorophyll_reading,
    soil_paramagnetism,
    in_field_observations,
    general_comments,
    image_urls,
    created_at,
    updated_at,
    created_by
) VALUES 
-- January 2024 visits
(
    gen_random_uuid(),
    '2024-01-15',
    'Alan Montalbetti',
    'Farm A - John Smith',
    'Completed',
    'Main Farm',
    'Paddock 1',
    'Avocado',
    'Routine',
    6.2,
    'Loam',
    45.5,
    'Early flowering',
    6.8,
    150,
    85,
    25,
    180,
    12,
    350,
    1.2,
    2.1,
    42.5,
    45.2,
    'Good soil moisture, plants showing healthy growth',
    'Regular monitoring visit completed',
    ARRAY[]::text[],
    '2024-01-15 09:00:00',
    '2024-01-15 09:00:00',
    '11111111-1111-1111-1111-111111111111'
),
(
    gen_random_uuid(),
    '2024-01-22',
    'Adriano de Senna',
    'Farm B - Maria Garcia',
    'Completed',
    'North Block',
    'Paddock 3',
    'Citrus',
    'Follow-up',
    5.8,
    'Clay',
    38.2,
    'Fruit set',
    6.5,
    120,
    95,
    30,
    160,
    15,
    420,
    1.5,
    2.3,
    38.8,
    42.1,
    'Some nutrient deficiency signs, recommend foliar application',
    'Follow-up visit after previous recommendations',
    ARRAY[]::text[],
    '2024-01-22 14:30:00',
    '2024-01-22 14:30:00',
    '22222222-2222-2222-2222-222222222222'
),
(
    gen_random_uuid(),
    '2024-01-28',
    'Marco Giorgio',
    'Farm C - David Wilson',
    'Completed',
    'South Farm',
    'Paddock 2',
    'Grapes',
    'Emergency',
    7.1,
    'Sandy Loam',
    52.8,
    'Veraison',
    7.2,
    180,
    75,
    20,
    200,
    8,
    280,
    0.8,
    1.9,
    45.2,
    48.5,
    'Emergency visit due to pest outbreak detected',
    'Immediate treatment required for pest control',
    ARRAY[]::text[],
    '2024-01-28 11:15:00',
    '2024-01-28 11:15:00',
    '33333333-3333-3333-3333-333333333333'
),

-- February 2024 visits
(
    gen_random_uuid(),
    '2024-02-05',
    'Alan Montalbetti',
    'Farm A - John Smith',
    'Completed',
    'Main Farm',
    'Paddock 4',
    'Apples',
    'Routine',
    6.5,
    'Loam',
    41.3,
    'Bud break',
    6.9,
    140,
    90,
    28,
    175,
    11,
    320,
    1.1,
    2.0,
    40.1,
    44.8,
    'Standard routine check, all parameters within normal range',
    'Monthly routine monitoring',
    ARRAY[]::text[],
    '2024-02-05 10:00:00',
    '2024-02-05 10:00:00',
    '11111111-1111-1111-1111-111111111111'
),
(
    gen_random_uuid(),
    '2024-02-12',
    'Graeme Sait',
    'Farm B - Maria Garcia',
    'Completed',
    'North Block',
    'Paddock 1',
    'Citrus',
    'Initial',
    6.0,
    'Clay Loam',
    35.7,
    'New planting',
    6.3,
    100,
    110,
    35,
    140,
    18,
    380,
    1.3,
    2.4,
    35.5,
    40.2,
    'Initial assessment of new citrus planting',
    'First visit for new planting establishment',
    ARRAY[]::text[],
    '2024-02-12 13:45:00',
    '2024-02-12 13:45:00',
    '22222222-2222-2222-2222-222222222222'
),
(
    gen_random_uuid(),
    '2024-02-18',
    'Adriano de Senna',
    'Farm C - David Wilson',
    'Completed',
    'South Farm',
    'Paddock 5',
    'Grapes',
    'Routine',
    6.8,
    'Sandy',
    48.9,
    'Flowering',
    7.0,
    160,
    80,
    22,
    190,
    9,
    300,
    0.9,
    2.1,
    43.8,
    46.3,
    'Good flowering progress, monitor for disease pressure',
    'Regular monitoring during critical growth stage',
    ARRAY[]::text[],
    '2024-02-18 09:30:00',
    '2024-02-18 09:30:00',
    '33333333-3333-3333-3333-333333333333'
),

-- March 2024 visits
(
    gen_random_uuid(),
    '2024-03-03',
    'Marco Giorgio',
    'Farm A - John Smith',
    'Completed',
    'Main Farm',
    'Paddock 2',
    'Avocado',
    'Follow-up',
    6.3,
    'Loam',
    47.2,
    'Fruit development',
    6.7,
    145,
    88,
    26,
    182,
    13,
    340,
    1.2,
    2.2,
    41.9,
    45.6,
    'Follow-up on previous recommendations, good response observed',
    'Follow-up visit to assess treatment effectiveness',
    ARRAY[]::text[],
    '2024-03-03 14:15:00',
    '2024-03-03 14:15:00',
    '11111111-1111-1111-1111-111111111111'
),
(
    gen_random_uuid(),
    '2024-03-10',
    'Alan Montalbetti',
    'Farm B - Maria Garcia',
    'In Progress',
    'North Block',
    'Paddock 2',
    'Citrus',
    'Routine',
    6.1,
    'Clay',
    39.8,
    'Fruit growth',
    6.6,
    130,
    92,
    29,
    165,
    14,
    360,
    1.4,
    2.2,
    39.2,
    43.1,
    'Routine monitoring in progress',
    'Standard monitoring visit',
    ARRAY[]::text[],
    '2024-03-10 11:00:00',
    '2024-03-10 11:00:00',
    '22222222-2222-2222-2222-222222222222'
),
(
    gen_random_uuid(),
    '2024-03-15',
    'Graeme Sait',
    'Farm C - David Wilson',
    'Scheduled',
    'South Farm',
    'Paddock 3',
    'Grapes',
    'Routine',
    NULL,
    NULL,
    NULL,
    NULL,
    NULL,
    NULL,
    NULL,
    NULL,
    NULL,
    NULL,
    NULL,
    NULL,
    NULL,
    NULL,
    NULL,
    NULL,
    NULL,
    ARRAY[]::text[],
    '2024-03-15 08:00:00',
    '2024-03-15 08:00:00',
    '33333333-3333-3333-3333-333333333333'
),
(
    gen_random_uuid(),
    '2024-03-20',
    'Adriano de Senna',
    'Farm A - John Smith',
    'Scheduled',
    'Main Farm',
    'Paddock 5',
    'Apples',
    'Emergency',
    NULL,
    NULL,
    NULL,
    NULL,
    NULL,
    NULL,
    NULL,
    NULL,
    NULL,
    NULL,
    NULL,
    NULL,
    NULL,
    NULL,
    NULL,
    NULL,
    NULL,
    ARRAY[]::text[],
    '2024-03-20 10:30:00',
    '2024-03-20 10:30:00',
    '11111111-1111-1111-1111-111111111111'
),
(
    gen_random_uuid(),
    '2024-03-25',
    'Marco Giorgio',
    'Farm B - Maria Garcia',
    'Cancelled',
    'North Block',
    'Paddock 4',
    'Citrus',
    'Follow-up',
    NULL,
    NULL,
    NULL,
    NULL,
    NULL,
    NULL,
    NULL,
    NULL,
    NULL,
    NULL,
    NULL,
    NULL,
    NULL,
    NULL,
    NULL,
    NULL,
    NULL,
    ARRAY[]::text[],
    '2024-03-25 13:00:00',
    '2024-03-25 13:00:00',
    '22222222-2222-2222-2222-222222222222'
);

-- Verify the data was inserted
SELECT 
    status,
    COUNT(*) as count
FROM field_visits 
GROUP BY status 
ORDER BY count DESC;

-- Show monthly distribution
SELECT 
    TO_CHAR(visit_date, 'MMM YYYY') as month,
    COUNT(*) as visits
FROM field_visits 
GROUP BY TO_CHAR(visit_date, 'MMM YYYY')
ORDER BY MIN(visit_date); 